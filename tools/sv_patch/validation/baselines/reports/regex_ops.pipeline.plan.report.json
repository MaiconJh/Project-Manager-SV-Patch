{
  "root": "/workspace/Project-Manager-SV-Patch",
  "plan_only": true,
  "strict": false,
  "backup": false,
  "rollback_on_fail": false,
  "workers": 8,
  "limits": {
    "max_files": 500,
    "max_total_write_bytes": 10000000,
    "allowlist_prefixes": [
      "."
    ]
  },
  "steps": [
    {
      "name": "regex-ops-contract",
      "scripts": [
        {
          "script": "tools/sv_patch/validation/scripts/regex_ops/regex_insert_replace_delete_success.rw",
          "files": [
            {
              "file": "tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/regex.txt",
              "changed": true,
              "ops": [
                {
                  "line": 1,
                  "op": "UPSERT_FILE",
                  "changed": 1
                },
                {
                  "line": 6,
                  "op": "INSERT_BEFORE_REGEX",
                  "changed": 1
                },
                {
                  "line": 7,
                  "op": "INSERT_AFTER_REGEX",
                  "changed": 1
                },
                {
                  "line": 8,
                  "op": "REPLACE_REGEX_FIRST",
                  "changed": 1
                },
                {
                  "line": 9,
                  "op": "REPLACE_REGEX",
                  "changed": 1
                },
                {
                  "line": 10,
                  "op": "DELETE_REGEX",
                  "changed": 1
                },
                {
                  "line": 11,
                  "op": "ASSERT_REGEX",
                  "changed": 0
                },
                {
                  "line": 12,
                  "op": "ASSERT_NOT_REGEX",
                  "changed": 0
                }
              ],
              "diff": "--- tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/regex.txt\n+++ tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/regex.txt\n@@ -0,0 +1,5 @@\n+ALPHA\n\n+before-beta\n\n+beta\n\n+\n\n+GAMMA\n",
              "bytes_before": 0,
              "bytes_after": 29,
              "sha256_before": null,
              "sha256_after": "ac88ba3bcc70a303dc2ff7601cf4bbb64d3e852a612e5767f11c5762b02a1252",
              "is_new": true,
              "is_deleted": false
            }
          ],
          "errors": []
        },
        {
          "script": "tools/sv_patch/validation/scripts/regex_ops/replace_block_success.rw",
          "files": [
            {
              "file": "tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/block.txt",
              "changed": true,
              "ops": [
                {
                  "line": 1,
                  "op": "UPSERT_FILE",
                  "changed": 1
                },
                {
                  "line": 8,
                  "op": "REPLACE_BLOCK",
                  "changed": 1
                },
                {
                  "line": 9,
                  "op": "ASSERT_REGEX",
                  "changed": 0
                },
                {
                  "line": 10,
                  "op": "ASSERT_NOT_REGEX",
                  "changed": 0
                }
              ],
              "diff": "--- tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/block.txt\n+++ tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/block.txt\n@@ -0,0 +1,3 @@\n+begin\n\n+replacement-line\n\n+finish\n",
              "bytes_before": 0,
              "bytes_after": 29,
              "sha256_before": null,
              "sha256_after": "28ca060721243c0779b6788bcab14c2521de52f122f96602eebc6067e6586a51",
              "is_new": true,
              "is_deleted": false
            }
          ],
          "errors": []
        },
        {
          "script": "tools/sv_patch/validation/scripts/regex_ops/patch_regex_alias_modes.rw",
          "files": [
            {
              "file": "tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/patch.txt",
              "changed": true,
              "ops": [
                {
                  "line": 1,
                  "op": "UPSERT_FILE",
                  "changed": 1
                },
                {
                  "line": 6,
                  "op": "REPLACE_REGEX_FIRST",
                  "changed": 1
                },
                {
                  "line": 7,
                  "op": "INSERT_BEFORE_REGEX",
                  "changed": 1
                },
                {
                  "line": 8,
                  "op": "INSERT_AFTER_REGEX",
                  "changed": 1
                },
                {
                  "line": 9,
                  "op": "DELETE_REGEX",
                  "changed": 1
                },
                {
                  "line": 10,
                  "op": "ASSERT_REGEX",
                  "changed": 0
                },
                {
                  "line": 11,
                  "op": "ASSERT_NOT_REGEX",
                  "changed": 0
                }
              ],
              "diff": "--- tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/patch.txt\n+++ tools/sv_patch/validation/artifacts/workspaces/regex_ops/tmp/patch.txt\n@@ -0,0 +1,4 @@\n+ONE\n\n+two-before\n\n+two\n\n+two-after\n\n",
              "bytes_before": 0,
              "bytes_after": 29,
              "sha256_before": null,
              "sha256_after": "044519bba8ce62595315709cd4b213602c2dbc3c824d65a9a99d6b4966a5acb5",
              "is_new": true,
              "is_deleted": false
            }
          ],
          "errors": []
        }
      ],
      "status": "OK"
    }
  ],
  "errors": [],
  "rollback": {
    "attempted": false,
    "files_restored": [],
    "files_removed": []
  },
  "rejects": [],
  "scans": [],
  "summary_path": "/workspace/Project-Manager-SV-Patch/data/index/changes-summary.md",
  "duration_ms": 5,
  "history": {
    "enabled": false
  },
  "pipeline": {
    "steps": [
      {
        "name": "regex-ops-contract",
        "scripts": [
          "tools/sv_patch/validation/scripts/regex_ops/regex_insert_replace_delete_success.rw",
          "tools/sv_patch/validation/scripts/regex_ops/replace_block_success.rw",
          "tools/sv_patch/validation/scripts/regex_ops/patch_regex_alias_modes.rw"
        ]
      }
    ]
  }
}
